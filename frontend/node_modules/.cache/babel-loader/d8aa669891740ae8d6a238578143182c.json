{"ast":null,"code":"var _jsxFileName = \"/home/fpftech/fpf/vic/curso-react/react-integrando-apis/frontend/src/paginas/Admin/FomularioPratos.tsx\",\n    _s = $RefreshSig$();\n\nimport { Box, Button, FormControl, InputLabel, MenuItem, Select, TextField, Typography } from '@mui/material';\nimport React, { useEffect, useState } from 'react';\nimport http from '../../http';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nexport default function FormularioPratos() {\n  _s();\n\n  const [nomePrato, setNomePrato] = useState('');\n  const [descricao, setDescricao] = useState('');\n  const [tags, setTags] = useState([]);\n  const [tag, setTag] = useState('');\n  const [restaurantes, setRestaurantes] = useState([]);\n  const [restaurante, setRestaurante] = useState('');\n  const [imagem, setImagem] = useState(null); // const parametros = useParams();\n\n  useEffect(() => {\n    http.get(`tags/`).then(res => {\n      setTags(res.data.tags);\n    });\n    http.get('restaurantes/').then(res => {\n      setRestaurantes(res.data);\n    });\n  }, []);\n\n  const onSubmit = event => {\n    event.preventDefault();\n    const formData = new FormData();\n    formData.append('nome', nomePrato);\n    formData.append('descricao', descricao);\n    formData.append('tag', tag);\n    formData.append('restaurante', restaurante);\n    imagem && formData.append('imagem', imagem);\n    http.request({\n      url: 'pratos/',\n      method: 'POST',\n      headers: {\n        'Content-Type': 'multipart/form-data'\n      },\n      data: formData\n    }).then(res => {\n      setNomePrato('');\n      setRestaurante('');\n      setTag('');\n      setDescricao('');\n      alert('Prato cadastrado com sucesse!');\n    }).catch(erro => console.log(erro));\n  };\n\n  const selecionarArquivo = event => {\n    var _event$target$files;\n\n    if ((_event$target$files = event.target.files) !== null && _event$target$files !== void 0 && _event$target$files.length) {\n      setImagem(event.target.files[0]);\n    } else {\n      setImagem(null);\n    }\n  };\n\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: /*#__PURE__*/_jsxDEV(Box, {\n      sx: {\n        display: \"flex\",\n        flexDirection: \"column\",\n        alignItems: \"center\",\n        flexGrow: 1\n      },\n      children: [/*#__PURE__*/_jsxDEV(Typography, {\n        component: \"h1\",\n        variant: \"h6\",\n        children: \"Formul\\xE1rio Pratos\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 65,\n        columnNumber: 13\n      }, this), /*#__PURE__*/_jsxDEV(Box, {\n        component: \"form\",\n        sx: {\n          width: '100%'\n        },\n        onSubmit: onSubmit,\n        children: [/*#__PURE__*/_jsxDEV(TextField, {\n          value: nomePrato,\n          id: \"standard-basic\",\n          label: \"Nome do Prato\",\n          variant: \"standard\",\n          onChange: event => setNomePrato(event.target.value),\n          fullWidth: true,\n          required: true,\n          margin: \"dense\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 67,\n          columnNumber: 17\n        }, this), /*#__PURE__*/_jsxDEV(TextField, {\n          value: descricao,\n          id: \"standard-basic\",\n          label: \"Descricao do Prato\",\n          variant: \"standard\",\n          onChange: event => setDescricao(event.target.value),\n          fullWidth: true,\n          required: true,\n          margin: \"dense\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 77,\n          columnNumber: 17\n        }, this), /*#__PURE__*/_jsxDEV(FormControl, {\n          margin: \"dense\",\n          fullWidth: true,\n          children: [/*#__PURE__*/_jsxDEV(InputLabel, {\n            id: \"select-tag\",\n            children: \"Tag\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 88,\n            columnNumber: 21\n          }, this), /*#__PURE__*/_jsxDEV(Select, {\n            variant: \"standard\",\n            labelId: \"select-tag\",\n            value: tag,\n            onChange: event => setTag(event.target.value),\n            children: tags.map(tag => /*#__PURE__*/_jsxDEV(MenuItem, {\n              value: tag.value,\n              children: tag.value\n            }, tag.id, false, {\n              fileName: _jsxFileName,\n              lineNumber: 95,\n              columnNumber: 29\n            }, this))\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 89,\n            columnNumber: 21\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 87,\n          columnNumber: 17\n        }, this), /*#__PURE__*/_jsxDEV(FormControl, {\n          margin: \"dense\",\n          fullWidth: true,\n          children: [/*#__PURE__*/_jsxDEV(InputLabel, {\n            id: \"select-restaurante\",\n            children: \"Restaurante\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 103,\n            columnNumber: 21\n          }, this), /*#__PURE__*/_jsxDEV(Select, {\n            variant: \"standard\",\n            labelId: \"select-restaurante\",\n            value: restaurante,\n            onChange: event => setRestaurante(event.target.value),\n            children: restaurantes.map(rest => /*#__PURE__*/_jsxDEV(MenuItem, {\n              value: rest.id,\n              children: rest.nome\n            }, rest.id, false, {\n              fileName: _jsxFileName,\n              lineNumber: 110,\n              columnNumber: 29\n            }, this))\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 104,\n            columnNumber: 21\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 102,\n          columnNumber: 17\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"file\",\n          onChange: selecionarArquivo\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 116,\n          columnNumber: 17\n        }, this), /*#__PURE__*/_jsxDEV(Button, {\n          type: \"submit\",\n          variant: \"outlined\",\n          fullWidth: true,\n          sx: {\n            marginTop: 1\n          },\n          children: \"Salvar\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 119,\n          columnNumber: 17\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 66,\n        columnNumber: 13\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 64,\n      columnNumber: 9\n    }, this)\n  }, void 0, false);\n}\n\n_s(FormularioPratos, \"6rmNJHdcFfZ31MKojQ+OhwX2TEA=\");\n\n_c = FormularioPratos;\n\nvar _c;\n\n$RefreshReg$(_c, \"FormularioPratos\");","map":{"version":3,"sources":["/home/fpftech/fpf/vic/curso-react/react-integrando-apis/frontend/src/paginas/Admin/FomularioPratos.tsx"],"names":["Box","Button","FormControl","InputLabel","MenuItem","Select","TextField","Typography","React","useEffect","useState","http","FormularioPratos","nomePrato","setNomePrato","descricao","setDescricao","tags","setTags","tag","setTag","restaurantes","setRestaurantes","restaurante","setRestaurante","imagem","setImagem","get","then","res","data","onSubmit","event","preventDefault","formData","FormData","append","request","url","method","headers","alert","catch","erro","console","log","selecionarArquivo","target","files","length","display","flexDirection","alignItems","flexGrow","width","value","map","id","rest","nome","marginTop"],"mappings":"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","sourcesContent":["import { AppBar, Box, Button, Container, FormControl, InputLabel, Link, MenuItem, Paper, Select, TextField, Toolbar, Typography } from '@mui/material'\nimport React, { useEffect, useState } from 'react'\nimport { useParams } from 'react-router-dom';\nimport IRestaurante from '../../interfaces/IRestaurante';\nimport http from '../../http';\nimport { Link as RouterLink } from 'react-router-dom';\nimport ITags from '../../interfaces/ITags';\n\nexport default function FormularioPratos() {\n    const [nomePrato, setNomePrato] = useState('')\n    const [descricao, setDescricao] = useState('')\n    const [tags, setTags] = useState<ITags[]>([])\n    const [tag, setTag] = useState('')\n    const [restaurantes, setRestaurantes] = useState<IRestaurante[]>([])\n    const [restaurante, setRestaurante] = useState('')\n    const [imagem, setImagem] = useState<File|null>(null)\n    // const parametros = useParams();\n\n    useEffect(() => {\n        http.get<{tags: ITags[]}>(`tags/`)\n            .then(res => {\n                setTags(res.data.tags)\n            })\n        http.get<IRestaurante[]>('restaurantes/')\n            .then(res => {\n                setRestaurantes(res.data)\n            })\n    }, [])\n\n    const onSubmit = (event: React.FormEvent<HTMLFormElement>) => {\n        event.preventDefault();\n        const formData = new FormData();\n        formData.append('nome', nomePrato);\n        formData.append('descricao', descricao);\n        formData.append('tag', tag);\n        formData.append('restaurante', restaurante);\n        imagem && formData.append('imagem', imagem);\n\n        http.request({\n            url: 'pratos/',\n            method: 'POST',\n            headers: {\n                'Content-Type': 'multipart/form-data'\n            },\n            data: formData\n        }).then(res => {\n            setNomePrato('')\n            setRestaurante('')\n            setTag('')\n            setDescricao('')\n            alert('Prato cadastrado com sucesse!')\n        }).catch(erro => console.log(erro))\n\n    }\n\n    const selecionarArquivo = (event: React.ChangeEvent<HTMLInputElement>) => {\n        if (event.target.files?.length) {\n            setImagem(event.target.files[0])\n        } else { setImagem(null) }\n    }\n\n  return (\n    <>\n        <Box sx={{display:\"flex\", flexDirection:\"column\", alignItems:\"center\", flexGrow: 1}}>\n            <Typography component=\"h1\" variant=\"h6\">Formul√°rio Pratos</Typography>\n            <Box component=\"form\" sx={{ width: '100%' }} onSubmit={onSubmit}>\n                <TextField \n                    value={nomePrato}\n                    id=\"standard-basic\" \n                    label=\"Nome do Prato\" \n                    variant=\"standard\" \n                    onChange={event => setNomePrato(event.target.value)}\n                    fullWidth\n                    required\n                    margin=\"dense\"\n                />\n                <TextField \n                    value={descricao}\n                    id=\"standard-basic\" \n                    label=\"Descricao do Prato\" \n                    variant=\"standard\" \n                    onChange={event => setDescricao(event.target.value)}\n                    fullWidth\n                    required\n                    margin=\"dense\"\n                />\n                <FormControl margin='dense' fullWidth >\n                    <InputLabel id='select-tag'>Tag</InputLabel>\n                    <Select \n                    variant=\"standard\"\n                    labelId='select-tag' \n                    value={tag} \n                    onChange={event => setTag(event.target.value)}>\n                        {tags.map(tag => \n                            <MenuItem key={tag.id} value={tag.value}>\n                                {tag.value}\n                            </MenuItem>    \n                        )}\n                    </Select>\n\n                </FormControl>\n                <FormControl margin='dense' fullWidth >\n                    <InputLabel id='select-restaurante'>Restaurante</InputLabel>\n                    <Select \n                    variant=\"standard\"\n                    labelId='select-restaurante' \n                    value={restaurante} \n                    onChange={event => setRestaurante(event.target.value)}>\n                        {restaurantes.map(rest => \n                            <MenuItem key={rest.id} value={rest.id}>\n                                {rest.nome}\n                            </MenuItem>    \n                        )}\n                    </Select>\n                </FormControl>\n                <input type='file'\n                        onChange={selecionarArquivo}>\n                </input>\n                <Button \n                    type=\"submit\"\n                    variant=\"outlined\"\n                    fullWidth\n                    sx={{marginTop: 1}}>\n                    Salvar\n                </Button>\n            </Box>\n        </Box>\n    </>\n  )\n}\n"]},"metadata":{},"sourceType":"module"}